<?php
class PersistenceTAMAS {
	

	function __construct() {
	}

	function loadApplicationManagerFromStore(){
		if (file_exists ($this->filename)){
			$str = file_get_contents($this->filename);
			$rm = unserialize($str);
		} else {
			$rm = RegistrationManager::getInstance();
		}
		return $rm;
	}
	
	function loadProfileManagerFromStore(){
		if (file_exists ($this->filename)){
			$str = file_get_contents($this->filename);
			$rm = unserialize($str);
		} else {
			$rm = RegistrationManager::getInstance();
		}
		return $rm;
	}
	
	function loadCourseManagerFromStore(){
		if (file_exists ($this->filename)){
			$str = file_get_contents($this->filename);
			$rm = unserialize($str);
		} else {
			$rm = RegistrationManager::getInstance();
		}
		return $rm;
	}
	

	function writeApplicationDataToStore($rm) {
		$str = serialize($rm);
		file_put_contents($this->filename, $str);

	}
	
	function writeProfileDataToStore($rm) {
		$str = serialize($rm);
		file_put_contents($this->filename, $str);
	
	}
	
	function writeCourseDataToStore($rm) {
		$str = serialize($rm);
		file_put_contents($this->filename, $str);
	
	}
}
?>